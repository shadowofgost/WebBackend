<!--
 * @Author           : Albert Wang
 * Copyright Notice : Copyright (c) 2022 Albert Wang 王子睿, All Rights Reserved.
 * @Time             : 2022-01-27 23:37:15
 * @Description      :
 * @Email            : shadowofgost@outlook.com
 * @FilePath         : /WebBackend/整体技术框架设计.md
 * @LastAuthor       : Albert Wang
 * @LastTime         : 2022-01-28 12:40:15
 * @Software         : Vscode
-->
# 功能模块设计
## 登录模块
### 前端：
1. 接收到用户名和密码，发送给后端，后端进行验证，返回结果。
2. 根据不同的权限值跳转到不同的页面（管理员，老师，学生）或者报错刷新页面
3. 实现路由守卫功能，同时结合token进行验证，收到token过期的信息后跳转到登录页面
### 后端：
1. 根据收到的用户名密码，查询数据库，返回结果。
2. 返回错误的结果，设置错误代码和错误格式。
3. 登录成功返回token，同时将token的校验结合进中间件中（你现在没有做token校验和token失效后返回的数据。）



## id验证模块
### 前端：
1. 只要出现修改/需要接收到id，选择需要判断的类型，发送给后端，后端验证，返回结果。
2.
### 后端：
## 设备信息模块
### 前端：
1. 删（delete），实现批量删除和定点删除，一个是统计到整个的数量，一个是把需要删除的id全部传过来，具体看接口文档格式**这个是全部增删通用接口，只要涉及删都是这个接口，注意复用性**
2. 增（post），按照接口文档格式验证数据合理性，符合接口数据标准才允许提交返回，实现增加设备信息，分为批量添加和单个添加，接口形式是批量添加的形式，如果单个添加可以设定数据量为1，返回结果。**注意几点要求**：（1）有些字段代表着数据库的外键，需要先通过id验证接口验证id的存在或者因为涉及到user用户验证用户的学号/职工号存在，一旦修改就验证，验证存在后再允许提交
3. 改（patch），按照接口文档格式验证数据合理性，符合接口数据标准才允许提交返回，实现修改设备信息，分为批量修改和单个修改，接口形式是批量修改的形式，如果单个修改可以设定数据量为1，返回结果。**注意几点要求**：（1）不是所有字段都需要返回，只有修改后的字段才需要返回（2）有些字段代表着数据库的外键，需要先通过id验证接口验证id的存在或者因为涉及到user用户验证用户的学号/职工号存在，一旦修改就验证，验证存在后再允许提交
4. 查（get）
### 后端：
//前端（post） 标记数据格式   => 后端 => 前端

//设备管理（管理者）
//获取所有设备信息 get
//设备信息筛选 post
//验证id post
//添加数据到数据库 put
//修改数据到数据库 patch
//单条数据删除 delete 传设备id
//多条数据删除 delete 传设备id



//用户信息（管理者）
//获取所有用户信息 get
//用户信息筛选 post
//验证用户id post
//添加数据到数据库 put
//修改数据到数据库 patch
//单条数据删除 delete 传设备id
//多条数据删除 delete 传设备id

//课程信息（管理者、教师）

//获取所有课程信息 get
//课程信息筛选 post
//验证用户id post
//添加数据到数据库 put
//修改数据到数据库 patch
//单条数据删除 delete 传设备id
//多条数据删除 delete 传设备id

//新页面：每次课程信息列表（显示签到率、显示学生签到情况（详情页）） EXCEL导出功能、
//        每个学生签到信息列表（显示历次课签到记录（详情页））


//登录者信息（管理者、教师、学生）
//获取自己信息 get
//修改数据到数据库 patch
//*照片上传

//学生签到管理信息
//所有id的验证在idevaluation中
